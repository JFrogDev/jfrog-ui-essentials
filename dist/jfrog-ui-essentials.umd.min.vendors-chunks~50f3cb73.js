(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[137],{d57a:function(t,e,s){"use strict";e.__esModule=!0,e.default=void 0;var i=l(s("bf9c")),n=l(s("93e0")),r=s("1611"),o=s("0d5a");function l(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},i=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),i.forEach(function(e){a(t,e,s[e])})}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,s){return e&&u(t.prototype,e),s&&u(t,s),t}var g="v-b-scrollspy",v="bv::scrollspy::activate",$={element:"body",offset:10,method:"auto",throttle:75},d={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},p={DROPDOWN_ITEM:"dropdown-item",ACTIVE:"active"},O={ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown, .dropup",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},m={OFFSET:"offset",POSITION:"position"},T=/^.*(#[^#]+)$/,S=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"],b={passive:!0,capture:!1};function w(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function y(t,e,s){for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){var o=s[i],l=e[i],c=l&&(0,r.isElement)(l)?"element":w(l);c=l&&l._isVue?"component":c,new RegExp(o).test(c)||(0,n.default)("".concat(t,': Option "').concat(i,'" provided type "').concat(c,'" but expected type "').concat(o,'"'))}}var _=function(){function t(e,s,i){h(this,t),this.$el=e,this.$scroller=null,this.$selector=[O.NAV_LINKS,O.LIST_ITEMS,O.DROPDOWN_ITEMS].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$obs_scroller=null,this.$obs_targets=null,this.$root=i||null,this.$config=null,this.updateConfig(s)}return f(t,[{key:"updateConfig",value:function(t,e){this.$scroller&&(this.unlisten(),this.$scroller=null);var s=c({},this.constructor.Default,t);if(e&&(this.$root=e),y(this.constructor.Name,s,this.constructor.DefaultType),this.$config=s,this.$root){var i=this;this.$root.$nextTick(function(){i.listen()})}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var t=this,e=this.getScroller();e&&"BODY"!==e.tagName&&(0,r.eventOn)(e,"scroll",this,b),(0,r.eventOn)(window,"scroll",this,b),(0,r.eventOn)(window,"resize",this,b),(0,r.eventOn)(window,"orientationchange",this,b),S.forEach(function(e){(0,r.eventOn)(window,e,t,b)}),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var t=this,e=this.getScroller();this.setObservers(!1),e&&"BODY"!==e.tagName&&(0,r.eventOff)(e,"scroll",this,b),(0,r.eventOff)(window,"scroll",this,b),(0,r.eventOff)(window,"resize",this,b),(0,r.eventOff)(window,"orientationchange",this,b),S.forEach(function(e){(0,r.eventOff)(window,e,t,b)})}},{key:"setObservers",value:function(t){var e=this;this.$obs_scroller&&(this.$obs_scroller.disconnect(),this.$obs_scroller=null),this.$obs_targets&&(this.$obs_targets.disconnect(),this.$obs_targets=null),t&&(this.$obs_targets=(0,i.default)(this.$el,function(){e.handleEvent("mutation")},{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$obs_scroller=(0,i.default)(this.getScroller(),function(){e.handleEvent("mutation")},{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(t){var e=(0,o.isString)(t)?t:t.type,s=this;function i(){s.$resizeTimeout||(s.$resizeTimeout=setTimeout(function(){s.refresh(),s.process(),s.$resizeTimeout=null},s.$config.throttle))}"scroll"===e?(this.$obs_scroller||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(e)&&i()}},{key:"refresh",value:function(){var t=this,e=this.getScroller();if(e){var s=e!==e.window?m.POSITION:m.OFFSET,i="auto"===this.$config.method?s:this.$config.method,n=i===m.POSITION?r.position:r.offset,o=i===m.POSITION?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),(0,r.selectAll)(this.$selector,this.$el).map(function(t){return(0,r.getAttr)(t,"href")}).filter(function(t){return t&&T.test(t||"")}).map(function(t){var s=t.replace(T,"$1").trim();if(!s)return null;var i=(0,r.select)(s,e);return i&&(0,r.isVisible)(i)?{offset:parseInt(n(i).top,10)+o,target:s}:null}).filter(Boolean).sort(function(t,e){return t.offset-e.offset}).reduce(function(e,s){return e[s.target]||(t.$offsets.push(s.offset),t.$targets.push(s.target),e[s.target]=!0),e},{}),this}}},{key:"process",value:function(){var t=this.getScrollTop()+this.$config.offset,e=this.getScrollHeight(),s=this.$config.offset+e-this.getOffsetHeight();if(this.$scrollHeight!==e&&this.refresh(),t>=s){var i=this.$targets[this.$targets.length-1];this.$activeTarget!==i&&this.activate(i)}else{if(this.$activeTarget&&t<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var n=this.$offsets.length;n--;){var r=this.$activeTarget!==this.$targets[n]&&t>=this.$offsets[n]&&((0,o.isUndefined)(this.$offsets[n+1])||t<this.$offsets[n+1]);r&&this.activate(this.$targets[n])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var t=this.$config.element;return t?((0,r.isElement)(t.$el)?t=t.$el:(0,o.isString)(t)&&(t=(0,r.select)(t)),t?(this.$scroller="BODY"===t.tagName?window:t,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var t=this.getScroller();return t===window?t.pageYOffset:t.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var t=this.getScroller();return t===window?window.innerHeight:(0,r.getBCR)(t).height}},{key:"activate",value:function(t){var e=this;this.$activeTarget=t,this.clear();var s=(0,r.selectAll)(this.$selector.split(",").map(function(e){return"".concat(e,'[href$="').concat(t,'"]')}).join(","),this.$el);s.forEach(function(t){if((0,r.hasClass)(t,p.DROPDOWN_ITEM)){var s=(0,r.closest)(O.DROPDOWN,t);s&&e.setActiveState((0,r.select)(O.DROPDOWN_TOGGLE,s),!0),e.setActiveState(t,!0)}else{e.setActiveState(t,!0),(0,r.matches)(t.parentElement,O.NAV_ITEMS)&&e.setActiveState(t.parentElement,!0);var i=t;while(i){i=(0,r.closest)(O.NAV_LIST_GROUP,i);var n=i?i.previousElementSibling:null;n&&(0,r.matches)(n,"".concat(O.NAV_LINKS,", ").concat(O.LIST_ITEMS))&&e.setActiveState(n,!0),n&&(0,r.matches)(n,O.NAV_ITEMS)&&(e.setActiveState((0,r.select)(O.NAV_LINKS,n),!0),e.setActiveState(n,!0))}}}),s&&s.length>0&&this.$root&&this.$root.$emit(v,t,s)}},{key:"clear",value:function(){var t=this;(0,r.selectAll)("".concat(this.$selector,", ").concat(O.NAV_ITEMS),this.$el).filter(function(t){return(0,r.hasClass)(t,p.ACTIVE)}).forEach(function(e){return t.setActiveState(e,!1)})}},{key:"setActiveState",value:function(t,e){t&&(e?(0,r.addClass)(t,p.ACTIVE):(0,r.removeClass)(t,p.ACTIVE))}}],[{key:"Name",get:function(){return g}},{key:"Default",get:function(){return $}},{key:"DefaultType",get:function(){return d}}]),t}(),E=_;e.default=E}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.vendors-chunks~50f3cb73.js.map